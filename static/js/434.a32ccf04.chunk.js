"use strict";(self.webpackChunkfluentair_app=self.webpackChunkfluentair_app||[]).push([[434],{8713:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var i=s(5043),n=s(5438),l=s(7895),a=s(5732),o=s(579);const c=e=>{let{question:t,onSave:s,onCancel:n}=e;const[c,d]=(0,i.useState)(t),[r,u]=(0,i.useState)(null),[x,h]=(0,i.useState)(null),p=(e,t,s)=>{const i=[...c.explanation];i[e][t]=s,d({...c,explanation:i})},j=e=>{e.style.height="auto",e.style.height=e.scrollHeight+"px"},v={deleteExplanation:{question:"Do you want to delete this explanation section?",buttons:[{text:"Yes, delete it",onClick:()=>(e=>{const t=c.explanation.filter(((t,s)=>s!==e));d({...c,explanation:t}),u(null)})(r),icon:(0,o.jsx)(l.F.HiOutlineTrash,{size:18})},{text:"No, keep it",onClick:()=>u(null),icon:(0,o.jsx)(l.F.HiOutlineXMark,{size:20})}]},deleteOption:{question:"Do you want to delete this option?",buttons:[{text:"Yes, delete it",onClick:()=>(e=>{const t=c.options.filter(((t,s)=>s!==e));d({...c,options:t}),h(null)})(x),icon:(0,o.jsx)(l.F.HiOutlineTrash,{size:18})},{text:"No, keep it",onClick:()=>h(null),icon:(0,o.jsx)(l.F.HiOutlineXMark,{size:20})}]}};return(0,o.jsxs)("div",{className:"editor-section",children:[(0,o.jsx)("form",{onSubmit:e=>{e.preventDefault(),s(c)},children:(0,o.jsxs)("div",{className:"editor-question-section",children:[(0,o.jsxs)("div",{className:"question-edit-top-bar",children:[(0,o.jsx)("h3",{children:"Enter Question Details"}),(0,o.jsx)(l.F.HiOutlineXMark,{className:"x-exam-finnish-button",onClick:n,size:24})]}),(0,o.jsxs)("div",{className:"enter-question-sections",children:[(0,o.jsxs)("div",{className:"quetion-editor-left-section",children:[(0,o.jsxs)("div",{className:"editor-head-section",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)("p",{children:"Topic:"}),(0,o.jsxs)("select",{value:c.topic,onChange:e=>d({...c,topic:e.target.value}),children:[(0,o.jsx)("option",{value:"Topic1",children:"Topic1"}),(0,o.jsx)("option",{value:"Topic2",children:"Topic2"})]})]}),(0,o.jsxs)("label",{children:[(0,o.jsx)("p",{children:"Subtopic:"}),(0,o.jsxs)("select",{value:c.subtopic,onChange:e=>d({...c,subtopic:e.target.value}),children:[(0,o.jsx)("option",{value:"Subtopic1",children:"Subtopic1"}),(0,o.jsx)("option",{value:"Subtopic2",children:"Subtopic2"})]})]})]}),(0,o.jsxs)("div",{className:"difficulty-row",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)("p",{children:"ID:"}),(0,o.jsx)("input",{type:"text",value:c.id,disabled:!0})]}),(0,o.jsxs)("label",{children:[(0,o.jsx)("p",{children:"Difficulty:"}),(0,o.jsxs)("select",{value:c.difficulty,onChange:e=>d({...c,difficulty:e.target.value}),children:[(0,o.jsx)("option",{value:"Easy",children:"Easy"}),(0,o.jsx)("option",{value:"Medium",children:"Medium"}),(0,o.jsx)("option",{value:"Hard",children:"Hard"})]})]})]}),(0,o.jsxs)("label",{className:"question-input",children:[(0,o.jsx)("p",{children:"Question:"}),(0,o.jsx)("textarea",{value:c.question,onChange:e=>{d({...c,question:e.target.value}),j(e.target)},ref:e=>e&&j(e),className:"auto-resize-textarea"})]}),(0,o.jsxs)("div",{className:"editor-option-section",children:[c.options.map(((e,t)=>(0,o.jsx)("label",{children:(0,o.jsxs)("div",{className:"option-section",children:[(0,o.jsxs)("p",{children:["Option ",t+1,":"]}),(0,o.jsxs)("div",{className:"option-section-input",children:[(0,o.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{const s=[...c.options];s[e]=t,d({...c,options:s})})(t,e.target.value)}),(0,o.jsx)("input",{type:"checkbox",className:"correct-answer-checkbox",checked:c.correctAnswer===t,onChange:()=>(e=>{d({...c,correctAnswer:e})})(t)}),(0,o.jsx)(l.F.IoMdCloseCircleOutline,{size:20,onClick:()=>h(t),className:"delete-option-btn"})]})]})},t))),(0,o.jsxs)("button",{className:"add-options-btn",children:[(0,o.jsx)(l.F.IoIosAddCircleOutline,{size:20})," Add Options"]})]})]}),(0,o.jsxs)("div",{className:"quetion-editor-right-section",children:[(0,o.jsxs)("label",{children:["Explanation:",(0,o.jsx)("div",{className:"explanation-editor-container",children:c.explanation.map(((e,t)=>(0,o.jsxs)("div",{className:"explanation-part",children:[(0,o.jsxs)("select",{value:e.type,onChange:e=>p(t,"type",e.target.value),children:[(0,o.jsx)("option",{value:"text",children:"Text"}),(0,o.jsx)("option",{value:"math",children:"Math"}),(0,o.jsx)("option",{value:"image",children:"Image"})]}),(0,o.jsx)("textarea",{value:e.content,onChange:e=>{p(t,"content",e.target.value),j(e.target)},ref:e=>e&&j(e),className:"auto-resize-textarea"}),(0,o.jsx)(l.F.IoMdCloseCircleOutline,{size:20,onClick:()=>u(t),className:"delete-explanation-btn"})]},t)))})]}),(0,o.jsxs)("button",{className:"add-explanation-section-btn",onClick:()=>{const e=[...c.explanation,{type:"text",content:""}];d({...c,explanation:e})},children:[(0,o.jsx)(l.F.IoIosAddCircleOutline,{size:20}),"Add Explanation Section"]})]})]})," "]})}),(0,o.jsx)("div",{className:"save-button-container",children:(0,o.jsx)("button",{className:"save-question-edit-btn",type:"submit",children:"Save Question"})}),null!==r&&(0,o.jsx)(a.A,{show:!0,onOverlayClick:()=>u(null),question:v.deleteExplanation.question,buttons:v.deleteExplanation.buttons}),null!==x&&(0,o.jsx)(a.A,{show:!0,onOverlayClick:()=>h(null),question:v.deleteOption.question,buttons:v.deleteOption.buttons})]})},d=()=>{const[e,t]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[d,r]=(0,i.useState)(""),[u,x]=(0,i.useState)(null),h=n.u.filter((e=>!s||e.topic===s)).flatMap((t=>t.questions.filter((t=>(!d||t.subtopic===d)&&t.question.toLowerCase().includes(e.toLowerCase()))))),p=[...new Set(n.u.map((e=>e.topic)))],j=[...new Set(n.u.filter((e=>!s||e.topic===s)).flatMap((e=>e.questions.map((e=>e.subtopic)))))];return(0,o.jsx)("div",{className:"question-bank-editor-container",children:u?(0,o.jsx)(c,{question:u,onSave:e=>{console.log("Updated Question:",e),x(null)},onCancel:()=>x(null)}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{children:"Question Bank"}),(0,o.jsxs)("div",{className:"question-bank-filter",children:[(0,o.jsx)("input",{type:"text",placeholder:"Search questions...",value:e,onChange:e=>t(e.target.value)}),(0,o.jsxs)("select",{value:s,onChange:e=>a(e.target.value),children:[(0,o.jsx)("option",{value:"",children:"All Topics"}),p.map((e=>(0,o.jsx)("option",{value:e,children:e},e)))]}),(0,o.jsxs)("select",{value:d,onChange:e=>r(e.target.value),children:[(0,o.jsx)("option",{value:"",children:"All Subtopics"}),j.map((e=>(0,o.jsx)("option",{value:e,children:e},e)))]})]}),(0,o.jsxs)("div",{className:"table-container",children:[(0,o.jsxs)("div",{className:"table-header",children:[(0,o.jsx)("div",{style:{width:"10%"},children:"ID"}),(0,o.jsx)("div",{style:{width:"70%"},children:"Question"}),(0,o.jsx)("div",{style:{width:"20%"},children:"Actions"})]}),(0,o.jsx)("div",{className:"table-body",children:h.map((e=>(0,o.jsxs)("div",{className:"table-row",children:[(0,o.jsx)("div",{style:{width:"10%"},children:e.id}),(0,o.jsx)("div",{style:{width:"70%"},children:e.question}),(0,o.jsxs)("div",{style:{width:"20%"},children:[(0,o.jsx)("button",{onClick:()=>(e=>{x(e)})(e),children:"\u270f\ufe0f"}),(0,o.jsx)("button",{children:"\ud83d\uddd1\ufe0f"})]})]},e.id)))})]}),(0,o.jsxs)("button",{className:"create-new-question-btn",children:[(0,o.jsx)(l.F.IoIosAddCircleOutline,{size:20})," Create Question"]})]})})};const r=function(){return(0,o.jsx)("div",{children:(0,o.jsx)(d,{})})}}}]);
//# sourceMappingURL=434.a32ccf04.chunk.js.map